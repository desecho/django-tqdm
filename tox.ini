[tox]
envlist =
    pylint
    flake8
    isort
    setup.py
    py27
    py34
    py35
    py36

skipsdist = True
toxworkdir = {env:TOX_WORKDIR:/tmp/tox-django-tqdm}

[testenv]
deps =
    -r{toxinidir}/requirements-dev.txt
commands =
    py.test --cov-report term-missing --cov django_tqdm --verbose
setenv =
    PYTHONPATH = {toxinidir}:{toxinidir}

[testenv:flake8]
commands =
    flake8

[testenv:isort]
commands =
    isort --check-only --recursive --diff django_tqdm

[testenv:setup.py]
commands =
    python setup.py check --restructuredtext --metadata --strict

[testenv:pylint]
commands =
    pylint django_tqdm

[testenv:bandit]
commands =
    bandit -r django_tqdm --exclude django_tqdm/tests
